(window["webpackJsonpmy-react-app"]=window["webpackJsonpmy-react-app"]||[]).push([[0],{10:function(e,t,s){e.exports=s(15)},15:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),i=s(8),r=s.n(i),o=(s(6),s(9)),l=s(1),c=s(2),u=s(4),h=s(3),d=s(5);function p(e){return n.a.createElement("button",{className:"square "+e.shade,onClick:e.onClick,style:e.style})}var b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderSquare",value:function(e,t){var s=this;return n.a.createElement(p,{piece:this.props.squares[e],style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return s.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<8;t++){for(var s=[],a=0;a<8;a++){var i=f(t)&&f(a)||!f(t)&&!f(a)?"light-square":"dark-square";s.push(this.renderSquare(8*t+a,i))}e.push(n.a.createElement("div",{className:"board-row"},s))}return n.a.createElement("div",null,e)}}]),t}(n.a.Component);function f(e){return e%2===0}var m=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderSquare",value:function(e){return n.a.createElement(p,{piece:e,style:e.style})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"board-row"},this.props.whiteFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))),n.a.createElement("div",{className:"board-row"},this.props.blackFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))))}}]),t}(n.a.Component),v=function e(t,s){Object(l.a)(this,e),this.player=t,this.style={backgroundImage:"url('"+s+"')"}},k=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},s}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t,s){if(1===this.player){if(t===e-8&&!s||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(s&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!s||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(s&&(t===e+9||t===e+7))return!0}return!1}},{key:"getToDestination",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),t}(v),w=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg":"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:"getToDestination",value:function(e,t){var s,a,n,i=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%9===0?(n=9,s+=9):(n=7,s+=7);for(var r=s;r<a;r+=n)i.push(r);return i}}]),t}(v),y=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:"getToDestination",value:function(){return[]}}]),t}(v),g=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return e-17===t||e-15===t||e+17===t||e+15===t||e+10===t||e+6===t||e-6===t||e-10===t}},{key:"getToDestination",value:function(){return[]}}]),t}(v),O=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%9===0||Math.abs(e-t)%8===0||Math.abs(e-t)%7===0||t>=e-s&&t<e+a}},{key:"getToDestination",value:function(e,t){var s,a,n,i=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(n=8,s+=8):Math.abs(e-t)%9===0?(n=9,s+=9):Math.abs(e-t)%7===0?(n=7,s+=7):(n++,s+=1);for(var r=s;r<a;r+=n)i.push(r);return i}}]),t}(v),j=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:"getToDestination",value:function(e,t){var s,a,n,i=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(n=8,s+=8):(n=1,s+=1);for(var r=s;r<a;r+=n)i.push(r);return i}}]),t}(v);function S(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new k(2),e[t+40]=new k(1);return e[0]=new j(2),e[7]=new j(2),e[56]=new j(1),e[63]=new j(1),e[1]=new g(2),e[6]=new g(2),e[57]=new g(1),e[62]=new g(1),e[2]=new w(2),e[5]=new w(2),e[58]=new w(1),e[61]=new w(1),e[3]=new O(2),e[59]=new O(1),e[4]=new y(2),e[60]=new y(1),e}function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(s,!0).forEach((function(t){Object(o.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).longLiveTheKing=function(){e.state.whiteFallenSoldiers.findIndex((function(e){return e instanceof y}))>-1?alert("Black is the superior chess player!"):e.state.blackFallenSoldiers.findIndex((function(e){return e instanceof y}))>-1&&alert("White is the superior chess player!")},e.componentDidUpdate=function(){e.longLiveTheKing()},e.resetGame=function(){e.setState({squares:S(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,status:"",turn:"white"})},e.state={squares:S(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,status:"",turn:"white"},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=E({},t[e].style,{backgroundColor:"RGB(111,143,114)"}),this.setState({status:"Choose destination for the selected piece",sourceSelection:e})):(this.setState({status:"Wrong selection. Choose player "+this.state.player+" pieces."}),t[e]&&(t[e].style=E({},t[e].style,{backgroundColor:""})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=E({},t[this.state.sourceSelection].style,{backgroundColor:""}),t[e]&&t[e].player===this.state.player)this.setState({status:"Wrong selection. Choose valid source and destination again.",sourceSelection:-1});else{var s=this.state.squares.slice(),a=this.state.whiteFallenSoldiers.slice(),n=this.state.blackFallenSoldiers.slice(),i=!!s[e],r=s[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,i),o=s[this.state.sourceSelection].getToDestination(this.state.sourceSelection,e),l=this.isMoveLegal(o);if(r&&l){null!==s[e]&&(1===s[e].player?a.push(s[e]):(console.log("BFS",s[e]),n.push(s[e]),console.log(n.findIndex((function(e){return e instanceof y}))))),s[e]=s[this.state.sourceSelection],s[this.state.sourceSelection]=null;var c=1===this.state.player?2:1,u="white"===this.state.turn?"black":"white";this.setState({sourceSelection:-1,squares:s,whiteFallenSoldiers:a,blackFallenSoldiers:n,player:c,status:"",turn:u})}else this.setState({status:"Wrong selection. Choose valid source and destination again.",sourceSelection:-1})}}},{key:"isMoveLegal",value:function(e){for(var t=!0,s=0;s<e.length;s++)null!==this.state.squares[e[s]]&&(t=!1);return t}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"game"},n.a.createElement("div",{className:"game-board"},n.a.createElement(b,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),n.a.createElement("div",{className:"game-info"},n.a.createElement("h3",null,"Turn"),n.a.createElement("div",{id:"player-turn-box",style:{backgroundColor:this.state.turn}}),n.a.createElement("div",{className:"game-status"},this.state.status),n.a.createElement("div",{className:"fallen-soldier-block"},n.a.createElement(m,{whiteFallenSoldiers:this.state.whiteFallenSoldiers,blackFallenSoldiers:this.state.blackFallenSoldiers}),n.a.createElement("button",{onClick:this.resetGame,className:"reset-button"},"Reset")))))}}]),t}(n.a.Component);r.a.render(n.a.createElement(q,null),document.getElementById("root"))},6:function(e,t,s){}},[[10,1,2]]]);
//# sourceMappingURL=main.9be49055.chunk.js.map